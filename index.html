<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGF Shaktinagar | Soya Chaap Specialists</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --apple-red: #e11d48;
            --apple-green: #10b981;
        }
        body { 
            font-family: 'Inter', -apple-system, sans-serif; 
            background-color: #f5f5f7; 
            color: #1d1d1f;
            -webkit-tap-highlight-color: transparent;
        }
        .apple-glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .veg-icon { border: 1.5px solid var(--apple-green); width: 14px; height: 14px; display: flex; align-items: center; justify-content: center; border-radius: 2px; }
        .veg-circle { width: 6px; height: 6px; background-color: var(--apple-green); border-radius: 50%; }
        
        .tab-active { color: var(--apple-red); position: relative; }
        .tab-active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--apple-red);
            border-radius: 50%;
        }
        
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-apple { animation: slideUp 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        
        .shadow-apple { box-shadow: 0 4px 24px rgba(0,0,0,0.04); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        // --- Custom Icon Component ---
        const Icon = ({ name, className = "w-5 h-5", fill = "none" }) => {
            const icons = {
                flame: <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.214 1.14-3.026C7 14.5 8.5 14.5 8.5 14.5z"/>,
                clock: <><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>,
                zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
                "utensils-crossed": <><path d="m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"/><path d="M15 15 3.3 3.3a2 2 0 1 0-2.8 2.8L12.2 17.8a2 2 0 0 0 2.8 0l1.8-1.8"/><path d="m18 18 4 4"/><path d="m2 22 4-4"/><path d="M8 8v7a3 3 0 0 0 6 0V8"/><line x1="11" x2="11" y1="2" y2="5"/><line x1="8" x2="8" y1="2" y2="5"/><line x1="14" x2="14" y1="2" y2="5"/></>,
                utensils: <><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></>,
                "chef-hat": <><path d="M6 18h12"/><path d="M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5"/><path d="M4 18a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-2Z"/><path d="M12 12v3"/><path d="M12 4c2.209 0 4 1.791 4 4v2H8V8c0-2.209 1.791-4 4-4Z"/></>,
                search: <><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/></>,
                "chevron-down": <polyline points="6 9 12 15 18 9"/>,
                "chevron-right": <polyline points="9 18 15 12 9 6"/>,
                minus: <line x1="5" x2="19" y1="12" y2="12"/>,
                plus: <><line x1="12" x2="12" y1="5" y2="19"/><line x1="5" x2="19" y1="12" y2="12"/></>,
                "message-circle": <path d="m3 21 1.9-1.9A9 9 0 1 1 21 12.4a9 9 0 0 1-18 8.6Z"/>,
                instagram: <><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></>,
                facebook: <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>,
                "map-pin": <><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></>,
                phone: <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>,
                x: <><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></>,
                "shopping-bag": <><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><line x1="3" x2="21" y1="6" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></>,
                "shield-check": <><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></>,
                "arrow-right": <><line x1="5" x2="19" y1="12" y2="12"/><polyline points="12 5 19 12 12 19"/></>,
                music: <><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></>,
                star: <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>,
                gift: <><polyline points="20 12 20 22 4 22 4 12"/><rect x="2" y="7" width="20" height="5"/><line x1="12" x2="12" y1="22" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></>
            };

            return (
                <svg 
                    viewBox="0 0 24 24" 
                    fill={fill} 
                    stroke="currentColor" 
                    strokeWidth="2.5" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {icons[name] || null}
                </svg>
            );
        };

        const VegIcon = () => (
            <div className="veg-icon shrink-0 mt-1 mr-2"><div className="veg-circle"></div></div>
        );

        // --- Sub-Views ---
        const HomeView = ({ setView }) => {
            const handleOfferClick = (offerName) => {
                const msg = `Hi SGF Shaktinagar, I'm interested in the ${offerName} offer!`;
                window.open(`https://wa.me/918860950400?text=${encodeURIComponent(msg)}`);
            };

            const socials = [
                { name: 'instagram', url: 'https://www.instagram.com/sgf.shaktinagar', color: 'text-pink-600' },
                { name: 'facebook', url: 'https://www.facebook.com/share/183maP3xiM/', color: 'text-blue-600' }
            ];

            return (
                <div className="animate-apple px-6 pt-8 pb-24">
                    <div className="bg-white rounded-[2rem] p-8 shadow-apple mb-8 border border-white/50 relative overflow-hidden">
                        <div className="relative z-10">
                            <span className="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase mb-4 inline-block">
                                100% Pure Veg
                            </span>
                            <h2 className="text-3xl font-black leading-tight mb-2 tracking-tighter">Soya Chaap<br/>Specialists</h2>
                            <p className="text-sm text-gray-400 font-medium mb-6">Experience India's most trusted Pure Veg Food Chain in Shakti Nagar.</p>
                            <div className="flex gap-4">
                                <button onClick={() => setView('menu')} className="bg-rose-600 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-xl shadow-rose-100 transition-transform active:scale-95">Order Now</button>
                                <button onClick={() => setView('party')} className="bg-gray-100 text-gray-900 px-6 py-3 rounded-2xl font-bold text-sm transition-transform active:scale-95">Book Party</button>
                            </div>
                        </div>
                        <div className="absolute -right-8 -bottom-8 opacity-5 z-0">
                            <Icon name="utensils-crossed" className="w-48 h-48" />
                        </div>
                    </div>

                    <div className="grid grid-cols-2 gap-4 mb-8">
                        <div className="bg-white p-6 rounded-[2rem] shadow-apple border border-gray-50">
                            <div className="w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center mb-4">
                                <Icon name="clock" />
                            </div>
                            <h3 className="font-bold text-sm mb-1">Open Late</h3>
                            <p className="text-[10px] text-gray-400">Serving till 3:00 AM every night.</p>
                        </div>
                        <div className="bg-white p-6 rounded-[2rem] shadow-apple border border-gray-50">
                            <div className="w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center mb-4">
                                <Icon name="zap" />
                            </div>
                            <h3 className="font-bold text-sm mb-1">Healthy Choice</h3>
                            <p className="text-[10px] text-gray-400">Zero Palm Oil policy across menu.</p>
                        </div>
                    </div>

                    <h3 className="font-black text-lg mb-4 px-2">Running Offers</h3>
                    <div className="flex gap-4 overflow-x-auto no-scrollbar pb-10">
                        <div 
                            onClick={() => handleOfferClick('B1G1 FREE (Dining Only)')}
                            className="min-w-[280px] bg-gradient-to-br from-rose-500 to-rose-700 p-6 rounded-[2rem] text-white shadow-xl cursor-pointer active:scale-95 transition-transform"
                        >
                            <p className="text-[10px] font-black uppercase opacity-70 mb-1">Dining Only</p>
                            <h4 className="text-xl font-black mb-1">B1G1 FREE</h4>
                            <p className="text-xs font-medium opacity-90">Buy 1 Get 1 on Chinese & Tandoori Snacks. (12 PM - 7 PM)</p>
                            <div className="mt-4 flex items-center gap-2 text-[10px] font-bold">Avail via WhatsApp <Icon name="arrow-right" className="w-3 h-3" /></div>
                        </div>
                        <div 
                            onClick={() => handleOfferClick('10% Table Pre-Booking')}
                            className="min-w-[280px] bg-gradient-to-br from-emerald-500 to-teal-700 p-6 rounded-[2rem] text-white shadow-xl cursor-pointer active:scale-95 transition-transform"
                        >
                            <p className="text-[10px] font-black uppercase opacity-70 mb-1">Reservation</p>
                            <h4 className="text-xl font-black mb-1">Pre-Booking OFF</h4>
                            <p className="text-xs font-medium opacity-90">Flat 10% OFF on your total bill when you pre-book a table.</p>
                            <div className="mt-4 flex items-center gap-2 text-[10px] font-bold">Avail via WhatsApp <Icon name="arrow-right" className="w-3 h-3" /></div>
                        </div>
                    </div>

                    {/* Footer Section */}
                    <div className="mt-12 bg-white rounded-[2rem] p-8 shadow-apple border border-gray-100 text-center">
                        <h4 className="text-xs font-black uppercase tracking-widest text-gray-400 mb-6">Connect With SGF</h4>
                        <div className="flex justify-center gap-8 mb-8">
                            {socials.map(social => (
                                <a 
                                    key={social.name} 
                                    href={social.url} 
                                    target="_blank" 
                                    className={`p-4 bg-gray-50 rounded-2xl border border-gray-100 hover:scale-110 active:scale-90 transition-all ${social.color}`}
                                >
                                    <Icon name={social.name} className="w-6 h-6" />
                                </a>
                            ))}
                        </div>
                        <div className="space-y-4">
                            <a 
                                href="https://maps.app.goo.gl/U6Aq5JtuxNpQeuTq5" 
                                target="_blank"
                                className="w-full bg-slate-900 text-white py-4 px-6 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-all text-center leading-tight"
                            >
                                <Icon name="map-pin" className="w-4 h-4 shrink-0" /> Visit Now (Review on Maps as well)
                            </a>
                            <a 
                                href="https://forms.gle/pTyGcNfzHNAvA4uh9" 
                                target="_blank"
                                className="w-full bg-emerald-50 text-emerald-700 border border-emerald-100 py-4 px-6 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-all"
                            >
                                <Icon name="message-circle" className="w-4 h-4 shrink-0" /> Give direct feedback to owners
                            </a>
                            <a 
                                href="tel:918860950400" 
                                className="w-full bg-white text-rose-600 border border-rose-100 py-4 px-6 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-all"
                            >
                                <Icon name="phone" className="w-4 h-4 shrink-0" /> Call Us Now
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        const MenuView = ({ filteredMenu, searchQuery, setSearchQuery, isCatOpen, setIsCatOpen, activeCategory, setActiveCategory, categories, getItemQty, removeFromCart, addToCart }) => {
            return (
                <div className="animate-apple pb-40">
                    <div className="p-6">
                        <div className="relative mb-6">
                            <input 
                                type="text" 
                                placeholder="Search for chaap, momos or gravy..." 
                                className="w-full bg-white rounded-[1.5rem] py-4 px-14 text-sm font-medium border border-gray-100 shadow-apple outline-none focus:ring-2 focus:ring-rose-500/20 transition-all"
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                            />
                            <div className="absolute left-6 top-1/2 -translate-y-1/2 text-gray-400">
                                <Icon name="search" />
                            </div>
                        </div>

                        <div className="relative mb-8">
                            <button 
                                onClick={() => setIsCatOpen(!isCatOpen)}
                                className="w-full bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-apple flex items-center justify-between text-xs font-bold uppercase tracking-widest text-gray-600 transition-all active:scale-98"
                            >
                                {activeCategory}
                                <Icon name="chevron-down" className={`w-4 h-4 transition-transform ${isCatOpen ? 'rotate-180' : ''}`} />
                            </button>
                            {isCatOpen && (
                                <div className="absolute top-full left-0 right-0 mt-2 bg-white/95 backdrop-blur-xl border border-gray-100 rounded-3xl shadow-2xl z-[150] overflow-hidden animate-apple">
                                    {categories.map(cat => (
                                        <button 
                                            key={cat} 
                                            className={`w-full text-left px-6 py-4 text-xs font-bold transition-colors border-b last:border-0 border-gray-50 ${activeCategory === cat ? 'bg-rose-50 text-rose-600' : 'hover:bg-gray-50 text-gray-600'}`}
                                            onClick={() => { setActiveCategory(cat); setIsCatOpen(false); }}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            )}
                        </div>

                        <div className="space-y-6">
                            {filteredMenu.map(item => (
                                <div key={item.id} className="bg-white p-6 rounded-[2.5rem] shadow-apple border border-gray-50 flex flex-col gap-4">
                                    <div className="flex justify-between items-start">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <VegIcon />
                                                {item.tag && <span className="text-[8px] font-black bg-rose-100 text-rose-600 px-2 py-0.5 rounded-full uppercase tracking-widest">{item.tag}</span>}
                                            </div>
                                            <h4 className="text-lg font-bold text-gray-900 mb-1">{item.name}</h4>
                                            <p className="text-[10px] text-gray-400 font-medium leading-relaxed">{item.desc}</p>
                                        </div>
                                        <div className="text-right shrink-0">
                                            {!item.prices && <p className="font-black text-rose-600">₹{item.price}</p>}
                                        </div>
                                    </div>

                                    <div className="flex items-center justify-between pt-4 border-t border-gray-50">
                                        <div className="flex flex-wrap gap-x-4 gap-y-4 w-full">
                                            {item.prices ? (
                                                Object.keys(item.prices).map(size => (
                                                    <div key={size} className="flex flex-col items-start min-w-[70px]">
                                                        <span className="text-[8px] font-bold text-gray-400 uppercase mb-1">{size} <span className="text-rose-600 tracking-normal">• ₹{item.prices[size]}</span></span>
                                                        <div className="flex items-center bg-gray-50 rounded-xl px-2 py-1 border border-gray-100 w-full justify-between">
                                                            {getItemQty(item.id, size) > 0 ? (
                                                                <>
                                                                    <button onClick={() => removeFromCart(`${item.id}-${size}`)} className="p-1 text-gray-500 hover:text-rose-600 transition-colors"><Icon name="minus" className="w-3 h-3" /></button>
                                                                    <span className="px-2 text-xs font-bold text-gray-900">{getItemQty(item.id, size)}</span>
                                                                    <button onClick={() => addToCart(item, size, item.prices[size])} className="p-1 text-rose-600 hover:text-rose-700 transition-colors"><Icon name="plus" className="w-3 h-3" /></button>
                                                                </>
                                                            ) : (
                                                                <button onClick={() => addToCart(item, size, item.prices[size])} className="w-full py-1 text-[10px] font-black text-rose-600 uppercase hover:text-rose-700 transition-all text-center">Add</button>
                                                            )}
                                                        </div>
                                                    </div>
                                                ))
                                            ) : (
                                                <div className="flex items-center bg-gray-50 rounded-xl px-2 py-1 border border-gray-100">
                                                    {getItemQty(item.id, 'Full') > 0 ? (
                                                        <>
                                                            <button onClick={() => removeFromCart(`${item.id}-Full`)} className="p-2 text-gray-500 hover:text-rose-600 transition-colors"><Icon name="minus" className="w-4 h-4" /></button>
                                                            <span className="px-4 text-sm font-bold text-gray-900">{getItemQty(item.id, 'Full')}</span>
                                                            <button onClick={() => addToCart(item, 'Full', item.price)} className="p-2 text-rose-600 hover:text-rose-700 transition-colors"><Icon name="plus" className="w-4 h-4" /></button>
                                                        </>
                                                    ) : (
                                                        <button onClick={() => addToCart(item, 'Full', item.price)} className="px-6 py-2 text-xs font-black text-rose-600 uppercase hover:text-rose-700 transition-all">Add To Cart</button>
                                                    )}
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const PartyPackagesView = ({ partyPackages }) => (
            <div className="animate-apple p-6 pb-32">
                <div className="bg-emerald-50 rounded-[2rem] p-6 mb-8 border border-emerald-100 flex items-center gap-4">
                    <div className="bg-emerald-600 p-3 rounded-2xl text-white shadow-lg"><Icon name="users" className="w-6 h-6" /></div>
                    <div>
                        <h4 className="font-bold text-emerald-900">Minimum 30 People</h4>
                        <p className="text-[10px] text-emerald-700 font-medium">Guarantee for party package bookings at Shakti Nagar.</p>
                    </div>
                </div>

                {/* SGF Party USPs */}
                <div className="grid grid-cols-1 gap-4 mb-8">
                    <div className="bg-white p-6 rounded-[2rem] shadow-apple border border-gray-100 flex items-center gap-4">
                        <div className="w-10 h-10 bg-rose-50 text-rose-600 rounded-xl flex items-center justify-center shrink-0"><Icon name="clock" /></div>
                        <div>
                            <h5 className="text-xs font-black uppercase tracking-widest text-slate-800">3-Hour Exclusive Locking</h5>
                            <p className="text-[10px] text-slate-400 font-medium leading-tight">Private space reserved entirely for your guests.</p>
                        </div>
                    </div>
                    <div className="bg-white p-6 rounded-[2rem] shadow-apple border border-gray-100 flex items-center gap-4">
                        <div className="w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center shrink-0"><Icon name="music" /></div>
                        <div>
                            <h5 className="text-xs font-black uppercase tracking-widest text-slate-800">In-House Music System</h5>
                            <p className="text-[10px] text-slate-400 font-medium leading-tight">Complimentary high-quality sound for your event.</p>
                        </div>
                    </div>
                    <div className="bg-white p-6 rounded-[2rem] shadow-apple border border-gray-100 flex items-center gap-4">
                        <div className="w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center shrink-0"><Icon name="gift" /></div>
                        <div>
                            <h5 className="text-xs font-black uppercase tracking-widest text-slate-800">Decoration Service</h5>
                            <p className="text-[10px] text-slate-400 font-medium leading-tight">Professional decor available on request (Chargeable).</p>
                        </div>
                    </div>
                </div>

                <div className="space-y-12">
                    {partyPackages.map(pkg => (
                        <div key={pkg.id} className={`p-8 rounded-[3rem] border transition-all shadow-apple ${pkg.featured ? 'border-rose-600 bg-white ring-4 ring-rose-50' : 'border-gray-100 bg-white'}`}>
                            <div className="flex justify-between items-start mb-6">
                                <div>
                                    {pkg.featured && <span className="bg-rose-600 text-white text-[8px] font-black px-3 py-1 rounded-full uppercase tracking-widest mb-2 inline-block shadow-lg">Most Popular</span>}
                                    <h3 className="text-3xl font-black text-gray-900 leading-none tracking-tighter">{pkg.name}</h3>
                                    <p className="text-sm font-bold text-rose-600 mt-1">{pkg.config}</p>
                                </div>
                                <div className="text-right shrink-0">
                                    <p className="text-3xl font-black text-gray-900 tracking-tighter leading-none">₹{pkg.price}</p>
                                    <p className="text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1">Per Person</p>
                                </div>
                            </div>
                            
                            <div className="space-y-6 mb-8 text-xs font-medium text-slate-700">
                                {/* Drinks */}
                                <div className="flex gap-4">
                                    <div className="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center shrink-0"><Icon name="zap" className="w-4 h-4 text-rose-500" /></div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 mb-1 tracking-widest">Drinks Choice</p>
                                        <p className="leading-snug">{pkg.drinksDetails}</p>
                                    </div>
                                </div>
                                {/* Starters */}
                                <div className="flex gap-4">
                                    <div className="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center shrink-0"><Icon name="star" className="w-4 h-4 text-amber-500" /></div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 mb-1 tracking-widest">Starter Selections</p>
                                        <p className="leading-snug">{pkg.starterDetails}</p>
                                    </div>
                                </div>
                                {/* Main Course */}
                                <div className="flex gap-4">
                                    <div className="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center shrink-0"><Icon name="chef-hat" className="w-4 h-4 text-emerald-500" /></div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 mb-1 tracking-widest">Main Course</p>
                                        <p className="leading-snug">{pkg.mainDetails}</p>
                                    </div>
                                </div>
                                {/* Breads */}
                                <div className="flex gap-4">
                                    <div className="w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center shrink-0"><Icon name="utensils" className="w-4 h-4 text-indigo-500" /></div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-gray-400 mb-1 tracking-widest">Breads</p>
                                        <p className="leading-snug">{pkg.breadDetails}</p>
                                    </div>
                                </div>
                                {/* Complimentary */}
                                <div className="flex gap-4">
                                    <div className="w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center shrink-0"><Icon name="shield-check" className="w-4 h-4 text-emerald-600" /></div>
                                    <div>
                                        <p className="text-[9px] font-black uppercase text-emerald-600 mb-1 tracking-widest">Complimentary Dishes</p>
                                        <p className="leading-snug text-slate-500 italic">Includes Green Salad, Raita (Boondi/Cucumber/Pineapple), Rice (Steam/Jeera), and Sweet Dish (Ice Cream/Gulab Jamun).</p>
                                    </div>
                                </div>
                            </div>
                            <button 
                                onClick={() => window.open(`https://wa.me/918860950400?text=Hi, I want to book the ${pkg.name} Party Package for 30+ people.`)}
                                className="w-full bg-rose-600 text-white py-5 rounded-[2rem] font-black shadow-xl shadow-rose-200 transition-all active:scale-95"
                            >
                                Book This Plan
                            </button>
                        </div>
                    ))}
                </div>
            </div>
        );

        const CartView = ({ cart, userData, setUserData, removeFromCart, addToCart, setView, handleWhatsApp }) => (
            <div className="animate-apple p-6 pb-40">
                <div className="bg-white rounded-[3rem] p-8 shadow-apple border border-gray-50">
                    <h2 className="text-2xl font-black tracking-tight mb-8">Finish Order</h2>
                    
                    <div className="space-y-4 mb-10">
                        <div className="space-y-1">
                            <p className="text-[9px] font-black uppercase tracking-widest text-gray-400 ml-4">Full Name</p>
                            <input 
                                type="text" 
                                className="w-full bg-gray-50 rounded-2xl py-4 px-6 text-sm font-bold outline-none border border-transparent focus:border-rose-100 focus:bg-white transition-all"
                                placeholder="Enter your name"
                                value={userData.name}
                                onChange={(e) => setUserData({...userData, name: e.target.value})}
                            />
                        </div>
                        <div className="space-y-1">
                            <p className="text-[9px] font-black uppercase tracking-widest text-gray-400 ml-4">Mobile Number</p>
                            <input 
                                type="tel" 
                                className="w-full bg-gray-50 rounded-2xl py-4 px-6 text-sm font-bold outline-none border border-transparent focus:border-rose-100 focus:bg-white transition-all"
                                placeholder="Phone number"
                                value={userData.mobile}
                                onChange={(e) => setUserData({...userData, mobile: e.target.value})}
                            />
                        </div>
                    </div>

                    <div className="space-y-6">
                        {cart.length === 0 ? (
                            <div className="text-center py-10">
                                <p className="text-gray-400 font-bold mb-4">Your cart is empty.</p>
                                <button onClick={() => setView('menu')} className="text-rose-600 font-black text-xs uppercase tracking-widest underline">Browse Menu</button>
                            </div>
                        ) : (
                            <>
                                {cart.map(item => (
                                    <div key={item.cartId} className="flex justify-between items-center border-b border-gray-50 pb-4">
                                        <div className="flex-1">
                                            <h4 className="font-bold text-sm text-gray-900">{item.name}</h4>
                                            <p className="text-[10px] font-bold text-rose-500 uppercase tracking-widest">{item.portion} • ₹{item.price}</p>
                                        </div>
                                        <div className="flex items-center bg-gray-50 rounded-xl px-2 py-1">
                                            <button onClick={() => removeFromCart(item.cartId)} className="p-2 text-gray-500 hover:text-rose-600 transition-colors"><Icon name="minus" className="w-3 h-3" /></button>
                                            <span className="px-3 text-xs font-bold text-gray-900">{item.qty}</span>
                                            <button onClick={() => addToCart(item, item.portion, item.price)} className="p-2 text-rose-600 hover:text-rose-700 transition-colors"><Icon name="plus" className="w-3 h-3" /></button>
                                        </div>
                                    </div>
                                ))}
                                <div className="pt-6 mt-6">
                                    <div className="flex justify-between items-center text-2xl font-black">
                                        <span className="tracking-tight text-gray-900">Total</span>
                                        <span className="tracking-tighter text-gray-900">₹{cart.reduce((a,b)=>a+(b.price*b.qty), 0)}</span>
                                    </div>
                                </div>
                                <button 
                                    onClick={handleWhatsApp}
                                    className="w-full bg-[#25D366] text-white py-5 rounded-[2rem] font-black shadow-xl flex items-center justify-center gap-3 mt-4 active:scale-95 transition-all"
                                >
                                    <Icon name="message-circle" className="w-6 h-6" /> Send to WhatsApp
                                </button>
                            </>
                        )}
                    </div>
                </div>
            </div>
        );

        // --- Main App ---
        const App = () => {
            const [view, setView] = useState('home');
            const [activeCategory, setActiveCategory] = useState('All');
            const [cart, setCart] = useState([]);
            const [searchQuery, setSearchQuery] = useState('');
            const [isCatOpen, setIsCatOpen] = useState(false);
            const [userData, setUserData] = useState({ name: '', mobile: '' });

            const menuData = [
                { id: 101, category: "SGF Special", name: "Dahi Kebab", price: 235, desc: "Silky smooth yogurt kebabs with mild spices.", tag: "USP" },
                { id: 102, category: "SGF Special", name: "Veg. Lollipop", price: 215, desc: "Crunchy veg treats served with zesty dip." },
                { id: 103, category: "SGF Special", name: "Golden Crispy Chaap", price: 255, desc: "Chef's secret batter-fried crunchy soya chaap." },
                { id: 104, category: "Dal Delicacies", name: "Dal Makhani", prices: { "300ml": 195, "500ml": 275, "750ml": 355 }, desc: "Black lentils slow cooked overnight with cream." },
                { id: 105, category: "Dal Delicacies", name: "Dal Maharani", prices: { "300ml": 205, "500ml": 285, "750ml": 365 }, desc: "Royal blend of lentils with premium spices." },
                { id: 106, category: "Tandoori Snacks", name: "Malai Chaap", prices: { half: 175, full: 275, family: 495 }, desc: "Creamy, mild and charcoal grilled." },
                { id: 107, category: "Tandoori Snacks", name: "Masala Chaap", prices: { half: 185, full: 285, family: 515 }, desc: "Spicy and tangy classic tandoori chaap." },
                { id: 108, category: "Chinese", name: "Chilly Potato", price: 245, desc: "Crispy fries tossed in honey chilly sauce." },
                { id: 109, category: "Chinese", name: "Veg Noodle", price: 155, desc: "Classic street-style stir fried noodles." },
                { id: 110, category: "Rolls", name: "SGF Special Roll", prices: { single: 215, double: 325 }, desc: "Our signature multi-flavored wrap." },
                { id: 111, category: "Chakhna Box", name: "Nacho Chaat", price: 149, desc: "Cheesy nachos with tangy Indian salsa." },
                { id: 112, category: "Chakhna Box", name: "Peanut Chakhna", price: 99, desc: "Spiced roasted peanuts with onions." }
            ];

            const partyPackages = [
                {
                    id: 'p1', name: 'Deluxe', price: 549, config: '(3+3+2)',
                    drinksDetails: '1 Choice: Fresh Lime / Cold Drink / Virgin Mojito',
                    starterDetails: '3 Choices: (Chinese: Chilly Potato, Noodles, Manchurian, French Fries) or (SGF Special: Malai Chaap, Masala Chaap, Afghani Chaap)',
                    mainDetails: '3 Dishes: Dal Makhni, Shahi Paneer, Mix Veg',
                    breadDetails: '2 Choices: Tandoori Roti, Butter Naan'
                },
                {
                    id: 'p2', name: 'Special', price: 699, config: '(4+4+3)', featured: true,
                    drinksDetails: 'Unlimited: Fresh Lime & Virgin Mojito',
                    starterDetails: '4 Choices: (Chinese: Chilly Potato, Spring Roll, Manchurian, Fries) or (SGF Special: Malai Chaap, Paneer Tikka, Dahi Kabab, Crispy Soya Chaap)',
                    mainDetails: '4 Dishes: Dal Makhni, Shahi Paneer, Mix Veg, Tawa Chaap Masala',
                    breadDetails: '3 Choices: Tandoori Roti, Lacha Paratha, Butter Naan'
                },
                {
                    id: 'p3', name: 'Premium', price: 799, config: '(6+4+4)',
                    drinksDetails: 'Unlimited: Fresh Lime, Virgin Mojito & Cold Drinks',
                    starterDetails: '6 Choices: (Chinese: Spring Roll, Manchurian, Fries) or (SGF Special: Afghani Chaap, Paneer Tikka, Dahi Kebab, Crispy Soya Chaap) or (Continental: Veg Burger, Pasta, Nachos)',
                    mainDetails: '4 Dishes: Dal Makhni, Shahi Paneer, Mix Veg, Tawa Chaap Masala',
                    breadDetails: '4 Choices: Tandoori Roti, Lachha Paratha, Butter Naan, Missi Roti'
                }
            ];

            const categories = ["All", ...new Set(menuData.map(item => item.category))];

            const filteredMenu = useMemo(() => {
                return menuData.filter(item => {
                    const matchesCat = activeCategory === 'All' || item.category === activeCategory;
                    const matchesSearch = item.name.toLowerCase().includes(searchQuery.toLowerCase());
                    return matchesCat && matchesSearch;
                });
            }, [activeCategory, searchQuery]);

            const addToCart = useCallback((item, portion, price) => {
                const cartId = `${item.id}-${portion}`;
                setCart(prev => {
                    const existing = prev.find(i => i.cartId === cartId);
                    if (existing) return prev.map(i => i.cartId === cartId ? { ...i, qty: i.qty + 1 } : i);
                    return [...prev, { ...item, cartId, portion, price, qty: 1 }];
                });
            }, []);

            const removeFromCart = useCallback((cartId) => {
                setCart(prev => prev.map(i => i.cartId === cartId ? { ...i, qty: i.qty - 1 } : i).filter(i => i.qty > 0));
            }, []);

            const getItemQty = (id, portion) => {
                const item = cart.find(i => i.id === id && i.portion === portion);
                return item ? item.qty : 0;
            };

            const handleWhatsApp = () => {
                if (!userData.name || !userData.mobile) return alert("Please enter your details first");
                const orderText = cart.map(i => `${i.qty}x ${i.name} (${i.portion})`).join('%0A');
                const finalStr = `New Order from ${userData.name} (${userData.mobile})%0A%0AItems:%0A${orderText}%0A%0ATotal: ₹${cart.reduce((a,b)=>a+(b.price*b.qty), 0)}`;
                window.open(`https://wa.me/918860950400?text=${finalStr}`);
            };

            return (
                <div className="min-h-screen max-w-2xl mx-auto shadow-2xl bg-[#f5f5f7] relative">
                    <div className="apple-glass sticky top-0 z-[100] border-b border-gray-100 px-6 py-4 flex items-center justify-between">
                        <div className="flex items-center gap-2 cursor-pointer" onClick={() => setView('home')}>
                            <div className="bg-rose-600 p-1.5 rounded-xl shadow-lg shadow-rose-200">
                                <Icon name="flame" className="w-5 h-5 text-white" />
                            </div>
                            <h1 className="font-extrabold text-xl tracking-tight">SGF</h1>
                        </div>
                        <div className="flex gap-6 text-[10px] font-bold uppercase tracking-widest text-gray-400">
                            <button onClick={() => setView('home')} className={view === 'home' ? 'tab-active text-rose-600' : 'hover:text-gray-600 transition-colors'}>Home</button>
                            <button onClick={() => setView('menu')} className={view === 'menu' ? 'tab-active text-rose-600' : 'hover:text-gray-600 transition-colors'}>Menu</button>
                            <button onClick={() => setView('party')} className={view === 'party' ? 'tab-active text-rose-600' : 'hover:text-gray-600 transition-colors'}>Parties</button>
                        </div>
                    </div>
                    
                    <div className="min-h-[calc(100vh-160px)]">
                        {view === 'home' && <HomeView setView={setView} />}
                        {view === 'menu' && (
                            <MenuView 
                                filteredMenu={filteredMenu}
                                searchQuery={searchQuery}
                                setSearchQuery={setSearchQuery}
                                isCatOpen={isCatOpen}
                                setIsCatOpen={setIsCatOpen}
                                activeCategory={activeCategory}
                                setActiveCategory={setActiveCategory}
                                categories={categories}
                                getItemQty={getItemQty}
                                removeFromCart={removeFromCart}
                                addToCart={addToCart}
                            />
                        )}
                        {view === 'party' && <PartyPackagesView partyPackages={partyPackages} />}
                        {view === 'cart' && (
                            <CartView 
                                cart={cart}
                                userData={userData}
                                setUserData={setUserData}
                                removeFromCart={removeFromCart}
                                addToCart={addToCart}
                                setView={setView}
                                handleWhatsApp={handleWhatsApp}
                            />
                        )}
                    </div>

                    {cart.length > 0 && view !== 'cart' && (
                        <div className="fixed bottom-0 left-0 right-0 p-6 z-[200] animate-apple max-w-2xl mx-auto">
                            <button 
                                onClick={() => setView('cart')}
                                className="w-full bg-rose-600 text-white p-5 rounded-[2rem] flex items-center justify-between shadow-2xl shadow-rose-200 border-2 border-white/20 active:scale-95 transition-all"
                            >
                                <div className="flex items-center gap-3">
                                    <div className="bg-white/20 px-3 py-1 rounded-full font-black text-xs">{cart.reduce((a,b)=>a+b.qty, 0)} Items</div>
                                    <span className="font-bold text-xs uppercase tracking-widest">View Bag</span>
                                </div>
                                <span className="font-black text-xl tracking-tighter">₹{cart.reduce((a,b)=>a+(b.price*b.qty), 0)}</span>
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
